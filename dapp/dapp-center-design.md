
# 0 引言

dapp 是 etm中非常重要的功能，etm 的dapp 的设计，使得用户可以很容易的开发侧链的应用。 但是对于 dapp 开发者而言， 在他们开发完dapp后，由于dapp侧链需要运行在ETM 节点上， 开发者如果希望运行这个dapp，会面临如下这些问题。

1. 开发者自己去部署节点，运行侧链， 需要承担服务器成本和维护成本，开销会很大。
2. 开发者将自己的dapp部署到其他的运行etm 的节点上，这对于 dapp 开发者而言， 是一笔额外的工作量和开销，同时， dapp 开发者如果想维护这个dapp， 需要每次和 节点提供者交互，也会是一个很麻烦的工作
3. 无论节点是部署在开发者自己搭建的服务器上，还是其他节点提供的服务器上，服务器的稳定性，是没有监控和保障的。这对于用户而言，他们很难放心的去使用dapp
4. 在dapp上链之后，开发者可以修改dapp，这本来是一件好事。但是如果有的开发者随意的去修改dapp合约的内容和数据，可能会导致dapp使用者的权益受损
5. 开发者推广他们的dapp，会是一笔额外的开销
6. 对于 节点 提供者而言，如果是 delegate， 他们可以通过 挖矿，获取收益， 但是这个节点如果是非出块节点的话， 就没有额外的收益了。如果他们希望通过提供 dapp 的服务来获取收益的话， 需要他们去联系开发者， 同时，还涉及一些开发运维工作， 也是不小的



DAPP 中心服务器， 是 asch 节点  和 开发者之间的桥梁，来解决上面的这些痛点。所以， 作为etm 的官方服务商，解决了信任问题。

# 1 DAPP 中心服务器 第一阶段需要实现的功能如下
1. 提供用户管理系统。
    dapp 开发者， 以及节点提供方， 都可以在系统平台注册，登录，并完成相关的操作。
2.  节点提供者可以在平台上将他们的 节点数据注册到平台服务器。
节点数据包括 节点的 ip，端口，服务器配置， 网络情况，dapp部署密码等。

3.  dapp 开发者开发完dapp后， 可以在 中心服务器上传dapp 的代码和资源， 同时设定要部署的节点数量
4.  中心服务器提供管理后台， 允许应用开发者注册dapp，启动dapp，停止dapp 等功能
5.  dapp 开发者可以修改 dapp 的代码，平台验证通过后，可以重新部署到节点上。


# 2 第二阶段工作
1.  中心服务器允许用户在 服务器部署前端的资源，同时可以提供域名服务相关的功能（类似于阿里云服务和万网的服务， 也可以挂载在我们自己申请的域名的二级域名下）
2.  中心服务器提供监控功能， 能监控各个节点的运行情况
3.  中心服务器对 dapp 的运行数据的 采集， 包括帐号变动数据等
4.  中心服务器对开发者提供 dapp 数据的查询功能， 包括 侧链的区块数据， 交易数据，帐号金额数据等。
5.  当一些节点不再提供服务的时候，支持将 该节点运行的dapp 服务转到其他的节点上
6.  对于那些好的dapp， 提供推广服务
7.  支持收费策略。


# 3 相关的接口
## 3.1  用户注册
        参数 
            用户类型 （1 开发者    2 节点提供者）
            帐号（手机号， 或者是邮箱）
            密码
            验证信息
## 3.2   用户登录
        参数 
            用户类型 （1 开发者    2 节点提供者）
            帐号（手机号， 或者是邮箱）
            密码
            验证信息
## 3.3  开发者上传dapp 数据 
        参数  
            应用名称 
            类别 
            描述 
            代理人数量 
            解锁需要的代理人数量 
            所有代理人密码明文  
## 3.4   注册 dapp （这一步是要消耗用户的  etm 的） 
       参数
            asch 的账号（明文）      
            在 平台保存的 dapp 的id  
## 3.5   安装并启动dapp    
        参数              
            dappid             
            节点数量 
        注意事项： 可能会有节点部署失败的情况（由于涉及多个节点，回退可能是件比较麻烦的事情， 所以， 这个会有一个等待时间， 同时日志保存也是一件很关键的事情）
      
## 3.6    停止 dapp 
        参数 
            dappid 
        注意事项： 这个也涉及多个节点的问题 

## 3.7      获取在平台的 dapp 列表数据 
        参数
		    无 
## 3.8     获取单个 dapp 的信息（包括区块信息，交易信息等） 
        参数 
            appId


## 3.9  节点服务商添加 节点 
        参数 
            节点ip 
            节点端口 
            节点 dapp 管理密码 
            节点 os 
            节点 os 版本号 
            节点其他信息 
## 3.10  节点服务商修改节点信息 
        参数 
            节点id 
            节点ip 
            节点端口 
            节点 dapp 管理密码 
            节点 os 
            节点 os 版本号 
               节点其他信息 
## 3.11   节点服务商 删除节点 （第二阶段功能） 
        参数 
            节点id 
## 3.12  节点服务商获取自己注册的所有节点 
        参数
		     无 
## 3.13  节点服务商查看单个节点dapp 信息

## 3.14  平台管理员管理功能， 包括dapp 审核，dapp查看，开发者信息查看，以及节点提供者查看，节点服务器运行状态查看等
       